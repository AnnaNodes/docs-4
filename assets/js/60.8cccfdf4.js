(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{502:function(s,a,n){"use strict";n.r(a);var e=n(8),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"osmojs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#osmojs"}},[s._v("#")]),s._v(" OsmoJS")]),s._v(" "),n("h2",{attrs:{id:"what-is-osmojs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#what-is-osmojs"}},[s._v("#")]),s._v(" What is OsmoJS?")]),s._v(" "),n("p",[s._v("Osmo.js is a JavaScript SDK for writing applications that interact with the Osmosis blockchain from either Node.js, browser, or React Native environments and provides simple abstractions over core data structures, serialization, key management, and API request generation.")]),s._v(" "),n("h2",{attrs:{id:"installation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[s._v("#")]),s._v(" Installation")]),s._v(" "),n("p",[s._v("Grab the latest version off NPM:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @osmosis-labs/osmo.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"usage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[s._v("#")]),s._v(" Usage")]),s._v(" "),n("h3",{attrs:{id:"getting-blockchain-data"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getting-blockchain-data"}},[s._v("#")]),s._v(" Getting blockchain data")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import { LCDClient, Coin } from '@osmosis-labs/osmo.js';\n\n// connect to testnet\nconst osmo = new LCDClient({\n  URL: '<Osmosis testnet RPCURL>',\n  chainID: 'osmo-test-4',\n});\n\n// To use LocalOsmosis\n// const osmo = new LCDClient({\n//   URL: 'http://localhost:1317',\n//   chainID: 'localosmosis'\n// });\n\n// get the current swap rate\nconst offerCoin = new Coin('osmo', '1000000');\nosmo.market.swapRate(offerCoin, 'atom').then(c => {\n  console.log(`${offerCoin.toString()} can be swapped for ${c.toString()}`);\n});\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"transaction-broadcasting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transaction-broadcasting"}},[s._v("#")]),s._v(" Transaction broadcasting")]),s._v(" "),n("p",[s._v("First, get some testnet tokens via. LocalOsmosis.\nThen:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import { LCDClient, MsgSend, MnemonicKey } from '@osmosis-labs/osmo.js';\n\n// create a key out of a mnemonic\nconst mk = new MnemonicKey({\n  mnemonic:\n    'notice oak worry limit wrap speak medal online prefer cluster roof addict wrist behave treat actual wasp year salad speed social layer crew genius',\n});\n\n// connect to testnet\nconst osmo = new LCDClient({\n  URL: '<Osmosis testnet RPCURL>',\n  chainID: 'osmo-test-4',\n});\n\n// To use LocalOsmosis\n// const osmo = new LCDClient({\n//   URL: 'http://localhost:1317',\n//   chainID: 'localosmosis'\n// });\n\n// a wallet can be created out of any key\n// wallets abstract transaction building\nconst wallet = osmo.wallet(mk);\n\n// create a simple message that moves coin balances\nconst send = new MsgSend(\n  '<toaddr>',\n  '<fromaddr>',\n  { <tokens> }\n);\n\nwallet\n  .createAndSignTx({\n    msgs: [send],\n    memo: 'test from osmo.js!',\n  })\n  .then(tx => osmo.tx.broadcast(tx))\n  .then(result => {\n    console.log(`TX hash: ${result.txhash}`);\n  });\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br")])]),n("h3",{attrs:{id:"osmojs-in-the-browser"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#osmojs-in-the-browser"}},[s._v("#")]),s._v(" OsmoJS in the browser")]),s._v(" "),n("p",[s._v("You can access all the objects of the "),n("code",[s._v("@osmosis-labs/osmo.js")]),s._v(" from the global "),n("code",[s._v("Osmo")]),s._v(" object if you load osmo.js with a "),n("code",[s._v("<script>")]),s._v(" tag.")]),s._v(" "),n("p",[s._v("Include the following in your browser:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<script\n  crossorigin\n  src="https://unpkg.com/@osmosis-labs/osmo.js/dist/bundle.js"\n><\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"osmojs-in-react-native"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#osmojs-in-react-native"}},[s._v("#")]),s._v(" OsmoJS in React Native")]),s._v(" "),n("p",[s._v("In order to use Terra.js inside React Native, you need to add the "),n("code",[s._v("node-libs-react-native")]),s._v(" package and "),n("code",[s._v("react-native-get-random-values")]),s._v(" package to your React Native app's "),n("code",[s._v("package.json")]),s._v(".")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" node-libs-react-native react-native-get-random-values\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("You will need to register Node.js native modules in an entry point of your application, such as "),n("code",[s._v("index.tsx")]),s._v(":")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import 'node-libs-react-native/globals';\nimport 'react-native-get-random-values';\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("Also, add resolvers to your "),n("code",[s._v("metro.config.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports {\n  // ...\n  resolver: {\n    // ...\n    extraNodeModules: require('node-libs-react-native'),\n  },\n  // ...\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);